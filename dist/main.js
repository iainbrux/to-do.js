(()=>{"use strict";class e{}function t(){document.querySelector(".project-title").innerText;let e=Object.keys(localStorage),t=[];e.forEach((e=>t.push(JSON.parse(localStorage.getItem(e))))),console.log(e)}function l(e,t,l){let n=document.querySelector("#task"),c=document.querySelector("#due-date"),r=document.querySelector(".to-do-add");e.remove(),r.style.display="flex",n.value=t,c.value=l}function n(e){let t=document.querySelector(".tasks-container"),n=document.querySelector(".project-title").innerText,c=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),u=document.createElement("input");u.type="checkbox",u.name="status",u.id="status",u.addEventListener("click",(()=>function(e){let t=Object.keys(localStorage),l=[];t.forEach((e=>{l.push(JSON.parse(localStorage.getItem(e)))})),l.forEach((t=>{let n=t.name,c=l.find((e=>e.name===n)),r=e.checked;c.status=r;let o=JSON.stringify(t);localStorage.setItem(n,o)}))}(u))),c.classList.add("task"),r.classList.add("description"),o.classList.add("due"),d.classList.add("btns"),r.innerText=e.name,o.innerText=e.due,u.checked=e.status,a.classList.add("delete"),a.innerText="Delete",a.addEventListener("click",(()=>{c.remove();let e=JSON.parse(localStorage[n]);console.log("This is test:"+e)})),i.classList.add("edit"),i.innerText="Edit",i.addEventListener("click",(()=>l(c,r.innerText,o.innerText))),d.append(i,a),c.append(u,r,o,d),t.append(c)}let c={},r=document.querySelector(".project-title");window[`${r.innerText}Array`]=[];let o=document.querySelector("#task"),d=document.querySelector("#due-date");document.querySelector(".submit").addEventListener("click",(()=>{""===o.value||""===d.value?alert("Please complete all input fields."):function(){let t=document.querySelector(".project-title").innerText,l=JSON.parse(localStorage.getItem(t));console.log("Retrieved JSON:"),console.log(l);const o=new e;let d=document.querySelector("#task"),a=document.querySelector("#due-date");o[d.value]={due:a.value,status:!1},c[r.innerText]=null;for(let e in c)if(e==r.innerText){if(null==window[`${e}Array`]){let e=r.innerText;window[`${e}Array`]=[]}return null==l&&(l=[]),l.push(o),console.log("JSON Array:"),console.log(l),n(o),i()}function i(){c[r.innerText]=window[`${r.innerText}Array`];let e=JSON.stringify(l);localStorage.setItem(r.innerText,e),d.value="",a.value=""}}()})),function(){let e=document.querySelectorAll(".task");document.querySelector(".project-title"),e.forEach((e=>{let t=e.querySelector(".description").innerText;e.querySelector(".delete").addEventListener("click",(()=>{localStorage.removeItem(t),e.remove()}))}))}(),document.querySelector("#clear").addEventListener("click",(()=>{o.value="",d.value=""})),document.querySelectorAll(".task").forEach((e=>{let t=e.querySelector(".description").innerText,n=e.querySelector(".due").innerText;e.querySelector(".edit").addEventListener("click",(()=>l(e,t,n)))})),function(){let e=document.querySelector(".to-do-add"),t=document.querySelector(".new-task-btn");t.addEventListener("click",(()=>{e.style.display="flex",t.style.display="none"}))}(),function(){let e=document.querySelector(".new-task-btn"),t=document.querySelector(".to-do-add");document.querySelector(".exit").addEventListener("click",(()=>{t.style.display="none",e.style.display="flex"}))}(),document.querySelectorAll("#status").forEach((e=>{e.addEventListener("click",(function(){let t=Object.keys(localStorage),l=[];t.forEach((e=>{l.push(JSON.parse(localStorage.getItem(e)))})),l.forEach((t=>{let n=t.name,c=l.find((e=>e.name===n)),r=e.checked;c.status=r;let o=JSON.stringify(t);localStorage.setItem(n,o)}))}))})),function(){let e=document.querySelector(".new-project"),n=document.querySelector(".add-new");n.addEventListener("click",(()=>{e.style.display="flex",n.style.display="none"})),document.querySelector(".project-exit").addEventListener("click",(()=>{e.style.display="none",n.style.display="flex"})),document.querySelector(".project-submit").addEventListener("click",(()=>{!function(){let e=document.querySelector(".new-project"),t=document.querySelector(".add-new"),l=document.querySelector("#project"),n=document.querySelector(".projects"),c=document.createElement("div"),r=l.value.replace(/\s/gi,"-");c.classList.add("title"),c.id=r,c.innerText=l.value,n.append(c),e.style.display="none",l.value="",t.style.display="flex"}(),document.querySelectorAll(".title").forEach((e=>{e.addEventListener("click",l=()=>{let l=document.querySelector(".tasks-container"),n=document.querySelector(".to-do-add"),c=document.querySelector(".project-title");l.innerHTML="",n.style.display="flex",c.innerText=e.innerText,t()})}))}))}(),localStorage.length>0&&t()})();